{% extends 'budget/base.html' %}
{% block content %}
<div class="transaction-container" style="min-height: 100vh; padding: 20px;">
  <h2 class="transaction-title">Seznam transakcí</h2>

  <!-- Filtrovací odkazy -->
  <p class="filter-links">
    <a href="?period=week">Týdenní</a> |
    <a href="?period=month">Měsíční</a> |
    <a href="{% url 'transaction_list' %}">Všechny</a>
  </p>

  <!-- Souhrn rozpočtu -->
  <div class="summary">
    <p><strong>Aktuální zůstatek:</strong> {{ balance }} Kč</p>
    <p><strong>Příjmy:</strong> {{ total_income }} Kč</p>
    <p><strong>Výdaje:</strong> {{ total_expense }} Kč</p>
  </div>

  <!-- Tabulka transakcí -->
  <table class="transaction-table" border="1" cellspacing="0" cellpadding="8" style="width:100%; margin-top: 20px;">
    <thead>
      <tr>
        <th>Datum</th>
        <th>Kategorie</th>
        <th>Částka</th>
        <th>Poznámka</th>
        <th>Akce</th>
      </tr>
    </thead>
    <tbody>
      {% for t in transactions %}
      <tr>
        <td>{{ t.date }}</td>
        <td>{{ t.category.name }}</td>
        <td>{{ t.amount }} Kč</td>
        <td>{{ t.note }}</td>
        <td>
          <a href="{% url 'delete_transaction' t.id %}" class="delete-btn">Smazat</a>
        </td>
      </tr>
      {% empty %}
      <tr>
        <td colspan="5" style="text-align:center;">Žádné transakce</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

  <!-- Tlačítko "Zpět" -->
  <p class="back-button" style="text-align:right; margin-top:20px;">
    <a href="{% url 'dashboard' %}">Zpět</a>
  </p>
</div>
{% endblock %}

